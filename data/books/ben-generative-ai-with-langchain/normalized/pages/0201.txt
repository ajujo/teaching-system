Building Intelligent RAG Systems
174
The response object contains the complete state of our workflow, including all intermediate
results. By accessing response["messages"][-1].content, we're retrieving the content of the
last message, which contains the finalized answer generated by our RAG pipeline.
Now that we've confirmed our pipeline works as expected, we can create a user-friendly interface.
While there are several Python frameworks available for building interactive interfaces (such as
Gradio, Dash, and Taipy), we'll use Streamlit due to its popularity, simplicity, and strong inteÂ­
gration with data science workflows. Let's explore how to create a comprehensive user interface
for our RAG application!
Integrating with Streamlit for a user interface
We integrate our pipeline with Streamlit to enable interactive documentation generation. This
interface lets users submit documentation requests and view the process in real time:
import streamlit as st
from langchain_core.messages import HumanMessage
from chapter4.document_loader import DocumentLoader
from chapter4.rag import graph, config, retriever
We'll configure the Streamlit page with a title and wide layout for better readability:
st.set_page_config(page_title="Corporate Documentation Manager",
layout="wide")
We'll initialize the session state for chat history and file management:
if "chat_history" not in st.session_state:
    st.session_state.chat_history = []
if 'uploaded_files' not in st.session_state:
    st.session_state.uploaded_files = []
Every time we reload the app, we display chat messages from the history on the app rerun:
for message in st.session_state.chat_history:
    print(f"message: {message}")
    with st.chat_message(message["role"]):
        st.markdown(message["content"])
