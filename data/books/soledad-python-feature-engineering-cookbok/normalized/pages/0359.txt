Creating Features from a Time Series with tsfresh
336
10.	 Now, let's obtain predictions using the time series in the test set and evaluate the model's
performance through a classification report:
print(classification_report(
    y_test, pipe.predict(X_test)))
We can see the output of step 10 here:
                  precision     recall  f1-score   support
               0         1.00        0.96        0.98
28
               1         0.86        1.00        0.9
2            6
     accu­
racy                                       0.97           34
   macro avg         0.93        0.98        0.95           34
weighted avg         0.97        0.97        0.97           34
The values of the classification report suggest that the extracted features are suitable for predicting
whether the office is occupied at any given hour.
How it works...
In this recipe, we combined creating features from a time series with tsfresh with training a machine
learning algorithm from the scikit-learn library in a pipeline.
The tsfresh library includes two wrapper classes around its main functions to make the
feature creation process compatible with the scikit-learn pipeline. In this recipe, we used the
RelevantFeatureAugmenter() class, which wraps the extract_relevant_features
function to create and then select features from a time series.
RelevantFeatureAugmenter() works as follows; with fit(), it creates and selects features
by using extract_relevant_features. The names of the selected features are then stored
internally in the transformer. With transform(), RelevantFeatureAugmenter() creates
the selected features from the time series.
We overrode the default functionality of RelevantFeatureAugmenter() by passing a dictionary
with the features we wanted to create to its kind_to_fc_parameters parameter. Therefore,
with transform(), RelevantFeatureAugmenter() created the indicated features from
the time series.
To create all features from the time series, tsfresh includes the FeatureAugmenter() class,
which has the same functionality as RelevantFeatureAugmenter(), but without the feature
selection step.
